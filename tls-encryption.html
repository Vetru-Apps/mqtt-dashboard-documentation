
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="images/favicon.ico">
      <meta name="generator" content="mkdocs-1.2, mkdocs-material-7.1.7">
    
    
      
        <title>Establishing TLS connection - MQTT Dashboard</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-98707628-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="orange">
  
    
    <script>function __prefix(e){return new URL(".",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#encrypted-connections" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="MQTT Dashboard" class="md-header__button md-logo" aria-label="MQTT Dashboard" data-md-component="logo">
      
  <img src="images/icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MQTT Dashboard
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Establishing TLS connection
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="orange"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="orange"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/Vetru-Apps/mqtt-dashboard-documentation/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="MQTT Dashboard" class="md-nav__button md-logo" aria-label="MQTT Dashboard" data-md-component="logo">
      
  <img src="images/icon.png" alt="logo">

    </a>
    MQTT Dashboard
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/Vetru-Apps/mqtt-dashboard-documentation/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        The app
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="brokers.html" class="md-nav__link">
        Brokers
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Tiles
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tiles" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tiles
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles.html" class="md-nav__link">
        Tiles
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      <label class="md-nav__link" for="__nav_3_2">
        Standard
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Standard" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Standard
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/button.html" class="md-nav__link">
        Button
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/toggle.html" class="md-nav__link">
        Toggle
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/multi-selection.html" class="md-nav__link">
        Multi-selection
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/text.html" class="md-nav__link">
        Text
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/progress.html" class="md-nav__link">
        Progress
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/date-time.html" class="md-nav__link">
        Date and time
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/color.html" class="md-nav__link">
        Color
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/image.html" class="md-nav__link">
        Image
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/line-chart.html" class="md-nav__link">
        Line chart
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      <label class="md-nav__link" for="__nav_3_3">
        Compound
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Compound" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Compound
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/light.html" class="md-nav__link">
        Light
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tiles/thermostat.html" class="md-nav__link">
        Thermostat
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        Features
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Features" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="working-with-json.html" class="md-nav__link">
        Working with JSON Objects
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="export-over-mqtt.html" class="md-nav__link">
        Exporting the database over MQTT
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Establishing TLS connection
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="tls-encryption.html" class="md-nav__link md-nav__link--active">
        Establishing TLS connection
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#encrypted-unauthenticated-connections" class="md-nav__link">
    Encrypted, unauthenticated connections
  </a>
  
    <nav class="md-nav" aria-label="Encrypted, unauthenticated connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-flespi" class="md-nav__link">
    Example: Flespi
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encrypted-authenticated-connections" class="md-nav__link">
    Encrypted, authenticated connections
  </a>
  
    <nav class="md-nav" aria-label="Encrypted, authenticated connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generating-a-pkcs12-certificate" class="md-nav__link">
    Generating a PKCS12 certificate
  </a>
  
    <nav class="md-nav" aria-label="Generating a PKCS12 certificate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-openssl-locally" class="md-nav__link">
    Using OpenSSL locally
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-an-online-service" class="md-nav__link">
    Using an Online service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-amazon-aws" class="md-nav__link">
    Example: Amazon AWS
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="contributing.html" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="changelog.html" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="privacy.html" class="md-nav__link">
        Privacy
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#encrypted-unauthenticated-connections" class="md-nav__link">
    Encrypted, unauthenticated connections
  </a>
  
    <nav class="md-nav" aria-label="Encrypted, unauthenticated connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-flespi" class="md-nav__link">
    Example: Flespi
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encrypted-authenticated-connections" class="md-nav__link">
    Encrypted, authenticated connections
  </a>
  
    <nav class="md-nav" aria-label="Encrypted, authenticated connections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generating-a-pkcs12-certificate" class="md-nav__link">
    Generating a PKCS12 certificate
  </a>
  
    <nav class="md-nav" aria-label="Generating a PKCS12 certificate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-openssl-locally" class="md-nav__link">
    Using OpenSSL locally
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-an-online-service" class="md-nav__link">
    Using an Online service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-amazon-aws" class="md-nav__link">
    Example: Amazon AWS
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Vetru-Apps/mqtt-dashboard-documentation/edit/master/docs/tls-encryption.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="encrypted-connections">Encrypted connections</h1>
<dl>
<dt>The application supports encrypted connections to brokers which support TLS (SSL or WSS).  </dt>
<dt>The aim of this page is to clarify what you need to provide to the app, the type of expected input files and the available options. The discussion below further expands what stated in the <a href="brokers.html">brokers</a> section.</dt>
<dd>
<div class="admonition tip">
<p class="admonition-title">In short</p>
<p>The app requires a CA certificate following the X509 standard, and a Client certificate in PKCS12. If you instead have a Client certificate and a Client private key  in PEM format, you can build your PKCS12 from them.</p>
</div>
</dd>
</dl>
<h2 id="encrypted-unauthenticated-connections">Encrypted, unauthenticated connections</h2>
<p>To establish a secure SSL connection not requiring authentication, follow these steps:</p>
<ul>
<li>Set <code>ssl://</code> or <code>wss://</code> as your address' protocol (depending on whether you need secure TCP or websocket).</li>
<li>Enable <em>Use SSL connection</em> in the dedicated dialog.</li>
<li>
<p>Depending on the CA certificate source, you may need to perform one or more of the following steps:</p>
<ul>
<li>Add your CA cert file as part of the Android Trust chain, via the dedicated menu in Settings &gt; Security &gt; Certificates.</li>
<li>Provide your CA cert to the app for it to directly verify the server; this step is alternative to the previous. The </li>
<li>Select <em>Accept self-signed certificates</em>. This option instructs the connection manager of the app to <strong>not</strong> verify the server. This may be dangerous in case of a man-in-the-middle attack. Use it at your own risk.</li>
</ul>
</li>
</ul>
<p>That's it. Now try to connect.</p>
<h3 id="example-flespi">Example: Flespi</h3>
<p><a href="http://flespi.io">Flespi</a> provides an online MQTT broker free of charges with TLS encryption.</p>
<p>To test it out, register and create a new account. Once you have your broker address, create a new broker instance in the app and paste it there.</p>
<ul>
<li>Be sure to set <code>ssl://</code> as the protocol (or <code>wss://</code> if you want a websocket).</li>
<li>Use the correct port, i.e. <code>8883</code>, or <code>443</code> for the websocket.</li>
<li>Check <em>Use SSL connection</em> as enable in the related dialog.</li>
</ul>
<p>That's it. You <strong>do not</strong> need to upload Flespi's CA certificate since it is already recognized by the Android built-in trust chain.</p>
<h2 id="encrypted-authenticated-connections">Encrypted, authenticated connections</h2>
<p>To establish a secure SSL connection not requiring authentication, follow these steps:</p>
<ul>
<li>Follow the steps outlined by the <em>Encrypted, unauthenticated connections</em> section.</li>
<li>If authentication takes place via a username/password combination, provide them as part of the broker setup.</li>
<li>
<p>If instead authentication occurs via Client certificate, proceed as follows depending on your certificate type:</p>
<ul>
<li>PKCS12 Client certificate: select your file from the dedicated dialog; if protected by a password, provide the password as well in <em>Certificate password</em>.</li>
<li>PEM Client certificate: PEM client certificates are <strong>not</strong> directly supported. You will need to convert them to the PKCS12 format. But worry not, this is not complicated. Read the section below for a step-by-step guide.</li>
</ul>
</li>
</ul>
<h3 id="generating-a-pkcs12-certificate">Generating a PKCS12 certificate</h3>
<h4 id="using-openssl-locally">Using OpenSSL locally</h4>
<p>To convert your PEM Client certificate/key pair to PKCS12 use <code>openssl</code> from command line; chances are you already have it installed in your system. To perform the conversion, type</p>
<pre><code class="language-bash">openssl pkcs12 -export -in cert.pem -inkey key.pem -certfile cacert.pem -out cert.p12 
</code></pre>
<p>and, when prompted to, provide a password, or just press enter to skip.</p>
<p>The input-output files are:</p>
<ul>
<li><code>cert.pem</code>: your PEM-format Client certificate</li>
<li><code>key.pem</code>: your PEM-format Client private key.</li>
<li><code>cacert.pem</code>: the Certification Authority PEM certificate, the same you provide to the app under the name of <em>CA cert</em>.</li>
<li><code>cert.p12</code>: the newly generated PKCS12 certificate to be copied to the smartphone and used in the app.</li>
</ul>
<h4 id="using-an-online-service">Using an Online service</h4>
<p>There may be online services offering certificate type conversions. If you choose to go this way, be sure to trust the website, as you would be uploading sensitive information.</p>
<h2 id="example-amazon-aws">Example: Amazon AWS</h2>
<p>The app does support connecting to AWS. Below we will give a brief outline of the steps you need to perform to get MqttDashboard to successfully connect to AWS.</p>
<ul>
<li>In the AWS IoT Core console, look for your endpoint name, in the form of <code>&lt;identifier&gt;.iot.&lt;region&gt;.amazonaws.com</code> and note it somewhere.</li>
<li>
<p>Now, under the <em>Security</em> menu, generate a new certificate with <em>one click</em> option. Download the following files:</p>
<ul>
<li><code>xxx.cert.pem</code></li>
<li><code>xxx.private.key</code></li>
<li><code>AmazonCA.pem</code></li>
</ul>
</li>
<li>
<p>Convert the <code>xxx.cert.pem</code> and <code>xxx.private.key</code> into a <code>client.p12</code> following the steps described above.</p>
</li>
<li>
<p>Upload the two files (<code>AmazonCA.pem</code> and <code>client.p12</code>) to your smartphone.</p>
</li>
<li>In the same Security screen, select your certificate and activate it. Then, link it to a valid <em>policy</em>; if you do not have any, create one. A good starting point is:  </li>
</ul>
<pre><code class="language-json">{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: &quot;iot:Connect&quot;,
      &quot;Resource&quot;: &quot;*&quot;
    },
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: &quot;iot:Publish&quot;,
      &quot;Resource&quot;: &quot;*&quot;
    },
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: &quot;iot:Subscribe&quot;,
      &quot;Resource&quot;: &quot;*&quot;
    }
  ]
}
</code></pre>
<ul>
<li>
<p>Open MqttDashboard on your phone. Create a new broker with settings:</p>
<ul>
<li><em>Address</em>: <code>ssl://&lt;identifier&gt;.iot.&lt;region&gt;.amazonaws.com</code>.</li>
<li><em>Port</em>: 8883.</li>
<li><em>Use SSL connection</em>: true.</li>
</ul>
</li>
</ul>
<dl>
<dd>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
Only use <code>8883</code> as port. <code>443</code> requires additional configuration that this app does not perform.</div>
</dd>
</dl>
<ul>
<li>
<p>Under the SSL settings:</p>
<ul>
<li><em>CA cert</em>: pick <code>AmazonCA.pem</code>.</li>
<li><em>Client cert</em>: pick <code>client.p12</code>.</li>
<li><em>Client password</em>: type in the password if you set one.</li>
</ul>
</li>
</ul>
<p>Done. Enjoy the app!</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="export-over-mqtt.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Exporting the database over MQTT" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Exporting the database over MQTT
            </div>
          </div>
        </a>
      
      
        
        <a href="contributing.html" class="md-footer__link md-footer__link--next" aria-label="Next: Contributing" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Contributing
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://www.reddit.com/r/MqttDashboard/" target="_blank" rel="noopener" title="www.reddit.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.76f349be.min.js"></script>
      
    
  </body>
</html>